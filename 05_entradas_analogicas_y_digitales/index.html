<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ubriquejazz.github.io/05_entradas_analogicas_y_digitales/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Pines de entrada - Arduino</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Pines de entrada";
        var mkdocs_page_input_path = "05_entradas_analogicas_y_digitales.md";
        var mkdocs_page_url = "/05_entradas_analogicas_y_digitales/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Arduino
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../01_que_es_arduino/">Que es Arduino</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../02_ide_arduino/">IDE Arduino</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../03_ejemplo_semaforo/">Ejemplo LEDs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../04_salidas/">Pines de salida</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Pines de entrada</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#entradas-analogicas">Entradas analógicas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#entradas-digitales">Entradas digitales</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sensor-de-temperatura-lm35">Sensor de temperatura LM35</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../06_entradas_botones/">Boton e interruptor</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../07_comunicacion_serie/">Comunicacion serie</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../10_pantalla_lcd/">Pantalla LCD</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">------</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../11_xbee_modules/">XBee Modules</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../08_sonidos/">Sonidos con Arduino</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../09_medicion_temperatura_ds18b20/">Onewire sensor</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Arduino</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Pines de entrada</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="pines-de-entrada">Pines de entrada</h1>
<p>Nuestro Arduino no sólo puede enviar señales sino que también puede recibirlas con dos propósitos principales como son leer datos de sensores y recibir mensajes de otros dispositivos (shield, otro Arduino, PC, etc.). Las entradas las clasificaremos en analógicas y digitales.</p>
<h2 id="entradas-analogicas">Entradas analógicas</h2>
<p>Las entradas analógicas del modelo Uno son las correspondientes a los pines de A0 a A5. Se caracterizan por leer valores de tensión de 0 a 5 Voltios con una resolución de 1024 (10 bits). Si dividimos 5 entre 1024 tenemos que ser capaz de detectar variaciones en el nivel de la señal de entrada de casi 5 mV.</p>
<p><img alt="Imagen 0 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/ecec0a8be06a680736a48b38cab4f393.webp" /></p>
<p>Para hacer la lectura de uno de estos pines escribiremos en nuestro código</p>
<pre><code>lectura = analogRead(pinentrada);
</code></pre>
<p>“lectura” lo sustituimos por el nombre de la variable donde queramos almacenar el valor leído y en “pinentrada” tendremos que poner el número del pin analógico que hemos elegido (0,1,...5) o el nombre de la variable que almacena dicho número.</p>
<p>Esta función nos devolverá un valor que va de 0 a 1023 en proporción al nivel de la señal de entrada. Para una entrada nula obtendremos el valor 0, para una entrada de 2.5 Voltios 511 (la mitad de 1023) y para 5 Voltios 1023.</p>
<h2 id="entradas-digitales">Entradas digitales</h2>
<p>Las entradas digitales son las mismas que las salidas digitales, es decir, los pines que van del 1 al 13. Se diferencian de las analógicas porque éstas son capaces de “entender” sólo dos niveles de señal, LOW o valores cercanos a 0 V y HIGH o valores cercanos a 5 V. Puede parecer una desventaja pero en realidad puede ser todo lo contrario. Y no sólo porque a veces únicamente necesitemos saber dos estados (interruptor, pulsador, sensor de presencia, final de carrera....) sino porque así es capaz de leer señales de pulsos digitales. Esto significa que puede <strong>comunicarse</strong> .</p>
<p><img alt="Imagen 1 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/9fb141e8030d0e5c342703a990f121c0.webp" /></p>
<p>Por poner un ejemplo, un sensor analógico de temperatura como es el LM35 incrementaría el nivel de la tensión que llega a la placa de forma proporcional a la temperatura. Sin embargo, uno digital como el ds18b20 lo que haría es cambiar la sucesión de pulsos y por tanto el mensaje que contiene el valor de la temperatura.</p>
<p>Aunque los pines digitales por defecto vienen configurados como entradas, si queremos hacerlo manualmente escribimos en nuestro código</p>
<pre><code>pinMode(pinentrada,INPUT);
</code></pre>
<p>Para almacenar los dos valores posibles LOW o HIGH en una variable llamada “lectura” escribimos</p>
<pre><code>lectura = digitalRead(pinentrada);
</code></pre>
<h2 id="sensor-de-temperatura-lm35">Sensor de temperatura LM35</h2>
<p>Este sensor de temperatura lo podéis encontrar por <strong>poco más de 1€</strong> . Es un sensor lineal, tiene una precisión de 0.5 ºC y una sensibilidad de 10 mV/ºC. Podéis encontrar más información en su <a href="http://www.ti.com/lit/ds/symlink/lm35.pdf">datasheet</a> .</p>
<p><img alt="Imagen 2 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/718030b2a8bbc2bc1e2694d8899a339f.webp" /></p>
<p>Vamos a hacer un pequeño proyecto para medir la temperatura ambiente y visualizarla en nuestro PC. Su montaje no lleva más de un par de minutos y podemos verlo claramente en el esquema. La pata +Vs va al pin 5V, la pata Vout al pin que utilicemos para la lectura, en este caso el 0, y la restante GND al pin GND. Tened en cuenta que el dibujo del LM35 está hecho con <strong>vista desde las patas</strong> . CUIDADO con colocarlo al revés porque si lo hacéis mal el sensor se calentará rápidamente y a parte de estropearlo os quemaréis al tocarlo.</p>
<p><img alt="Imagen 3 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/c56127504c4d982538a48295888fe003.webp" /></p>
<p><img alt="Imagen 4 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/0e72390848231461deac3688ea0d6a74.webp" /></p>
<p>El programa para este ejemplo es también muy simple y corto. Como siempre empezamos con la declaración de las variables. Esta vez, para almacenar la temperatura no utilizaremos una variable del tipo <em>int</em> sino <em>float</em> para poder almacenar decimales.</p>
<pre><code>float temperatura;            // aquí almacenaremos el valor leído
int pinentrada = 0;           // utilizaremos el pin A
</code></pre>
<p>Lo siguiente es abrir el puerto serial en la función <em>setup</em> . Ésto se hace para poder comunicarnos desde nuestro ordenador con el controlador y así poder mostrar los datos por pantalla.</p>
<pre><code>void setup()
{
    Serial.begin(9600);            // abrimos el puerto reial a 9600 bps
}
</code></pre>
<p><img alt="Imagen 5 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/19657dbff2454d21c033aafc67f7526d.webp" /></p>
<p>En el código quedaría así</p>
<pre><code>void loop()
{
    temperatura = analogRead(pinentrada);                    // lectura del pin A0
    temperatura = (temperatura / 1023 * 5 / 0.01);         // &quot;traduce&quot; el valor leído a grados
    Serial.print(temperatura);                                         // escribe el valor de la temperatura por el puerto serial
    Serial.print(&quot; grados centigrados \n&quot;);                       // escribe las unidades
    delay(1000);                                                             // espera 1 segundo
}  
</code></pre>
<p>Cargamos el código en la placa y sólo tenemos que pinchar en el icono del monitor serial</p>
<p><img alt="Imagen 6 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/3ae7b3b11d350fd67f32dc767243c6ff.webp" /></p>
<p>Si nos muestras caracteres extraños es que la configuración del monitor serial está comunicándose con una tasa bps distinta a los 9600 con los que hemos configurado nuestro puerto serial. Para corregirlo sólo tenemos que seleccionar el valor adecuado de la pestaña desplegable como se puede ver en la siguiente imagen.</p>
<p><img alt="Imagen 7 en Tutorial Arduino: Entradas Analógicas y Digitales" src="../img05/97b0268383010017947a595a4dc1c5ac.webp" /></p>
<p>Os dejo el programa entero para que sólo tengáis que copiar y pegar a vuestro IDE.</p>
<pre><code>/*****************************/
/*  Medicion de Temperatura  */
/*    con el sensor LM35     */
/*****************************/

/****** declaracion de variables ******/
float temperatura;        // almacenara el valor leido
int pinentrada = 0;        // utilizaremos el pin A0

void setup()
{
    Serial.begin(9600); // abrimos el puerto serial a 9600 bps
}

void loop()
{
    temperatura = analogRead(pinentrada);                // lectura del pin A0
    temperatura = (temperatura / 1023 * 5 / 0.01);     // traduce el valor a ºC
    Serial.print(temperatura);                                      // escribe el valor por el puerto serial
    Serial.print(&quot; grados centigrados \n&quot;);                   // escribe las unidades de ºC
    delay(1000);                                                         // espera un segundo
}  
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../04_salidas/" class="btn btn-neutral float-left" title="Pines de salida"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../06_entradas_botones/" class="btn btn-neutral float-right" title="Boton e interruptor">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../04_salidas/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../06_entradas_botones/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
